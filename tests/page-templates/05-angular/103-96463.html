<%= header %>
<script>
// ensure we wait for LOGN
window.BOOMR_LOGN_always = true;
// pick a specific config
window.BOOMR_LOGN_key = "05-angular-103-96463";
</script>
<!-- ensure the script is on the page before onload -->
<%= boomerangScript %>
<!-- load Angular scripts -->
<script src="../../vendor/angular/angular.js"></script>
<script src="../../vendor/angular-resource/angular-resource.js"></script>
<script src="../../vendor/angular-route/angular-route.js"></script>
<script>
/*global angular*/
document.addEventListener("DOMContentLoaded", function() {
	angular.bootstrap(document, ["app"]);
});
</script>
<div ng-view></div>
<script src="103-96463.js" type="text/javascript"></script>
<script type="text/javascript">
//
// Hack the visibilityState, so it looks like we're transitioning
// from "prerender" to "visible" when we run fake "visibility_changed"
// events after onload.
//
var visibilityStateN = 0;
BOOMR.visibilityState = function() {
	visibilityStateN++;

	if (visibilityStateN === 2) {
		return "prerender";
	}
	else {
		return "visible";
	}
};

setTimeout(function() {
	BOOMR_test.init({
		testAfterOnBeacon: 1
	});
}, 1000);

// fire fake visibility changed events
setTimeout(function() {
	BOOMR.fireEvent("visibility_changed");
	BOOMR.fireEvent("visibility_changed");
}, 1500);
</script>
<script src="support/app.js"></script>

<%= footer %>
