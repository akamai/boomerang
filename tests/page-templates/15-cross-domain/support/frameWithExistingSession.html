<!DOCTYPE html>
<!--[if IE 8]>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 1.0 Transitional//EN" "http://www.w3.org/TR/html1/DTD/html1-transitional.dtd">
<![endif]-->
<!-- Session on main domain has mocked beacon_url -->
<html>
<head>
	<!--[if IE 8]>
	<meta http-equiv="X-UA-Compatible" content="EmulateIE8">
	<![endif]-->
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<script type="text/javascript">

	// Clear localstorage
	if (typeof window.localStorage === "object" && typeof window.localStorage.clear === "function") {
		window.localStorage.clear();
	}
	// BOOMR API Key is required so LOGN doesn't fail to setup
	window.BOOMR_API_key = "API_KEY";
	// Set RT Cookie to empty, preventing navigation related issues with session tests
	document.cookie = "RT=\"\";domain=.boomerang-test2.local;path=/";
	// Prevent Boomerang from setting a cookie on unload so as to prevent cookies to show up when we load the next E2E test
	window.addEventListener("beforeunload", function(e) {
		if (BOOMR) {
			BOOMR.disable();
		}

		e.preventDefault();
	});
	window.BOOMR_API_key = "API_KEY";
	window.sessionMock = {
		ID: "mocked-id",
		length: 10,
		start: (new Date().getTime()) - 65000,
		loadTime: 666,
		sessionHistory: [],
		offByOne: 1,
		beacon_url: "/beacon/no-op"
	};
	</script>
	<script src="../../../vendor/mocha/mocha.js"></script>
	<script src="../../../vendor/assertive-chai/dist/assertive-chai.js"></script>
	<script src="../../../vendor/lodash/lodash.js"></script>
	<script src="../../../boomerang-test-framework.js" type="text/javascript"></script>
	<script src="session-mock.js" type="text/javascript"></script>
	<script src="../../../build/boomerang-latest-debug.js"></script>
	</head>
	<body>
	<!-- We don't want this page to beacon just give us the session content -->
	<script>
	BOOMR_test.init({
		site_domain: "boomerang-test2.local",
		autorun: false,
		CrossDomain: {
			sending: true
		}
	});
	</script>
</body>
</html>


