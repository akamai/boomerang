<%= header %>
<%= boomerangScript %>

<script>
/*global custom_metric_1:true, custom_metric_2:true*/
/*eslint-disable no-unused-vars*/

BOOMR = window.BOOMR ? BOOMR : {};
BOOMR.xhr_excludes = BOOMR.xhr_excludes ? BOOMR.xhr_excludes : {};

var excludables = [
	"metric.html",
	"widget.html",
	"widgets.html",
	"img.jpg",
	"widget.json"
];

for (var index = 0; index < excludables.length; index++) {
	BOOMR.xhr_excludes["/pages/08-ember/support/" + excludables[index]] = true;
}
</script>


<script src="../../vendor/jquery/dist/jquery.min.js"></script>
<script src="../../vendor/ember/ember.prod.js"></script>
<script src="../../vendor/handlebars/handlebars.min.js"></script>
<script src="../../vendor/ember/ember-template-compiler.js"></script>
<script src="support/app.js"></script>
<script src="01-ember-custom-timers.js"></script>

<!-- Handlebars templates for our application. -->
<script type="text/x-handlebars">
  <div class="container">
    <h1>Testing Ember.js</h1>
    {{outlet}}
  </div>
</script>

<script>
/*global custom_timer_1:true, custom_timer_2:true*/
/*eslint-disable no-unused-vars*/
// these will be overwritten by the app
custom_timer_1 = 111;
custom_timer_2 = function() {
	return 222;
};

BOOMR_test.init({
	testAfterOnBeacon: true,
	Ember: {
		enabled: true
	},
	instrument_xhr: true,
	autorun: false,
	PageParams: {
		customTimers: [
			{
				"name": "Timer NavigationTiming",
				"index": 0,
				"type": "NavigationTiming",
				"label": "custom0",
				"start": "navigationStart",
				"end": "responseEnd"
			}, {
				"name": "Timer JavaScript Variable",
				"index": 1,
				"type": "Custom",
				"label": "custom1",
				"parameter1": "custom_timer_1"
			}, {
				"name": "Timer JavaScript Function",
				"index": 2,
				"type": "Custom",
				"label": "custom2",
				"parameter1": "custom_timer_2"
			}, {
				"name": "Timer UserTiming",
				"index": 3,
				"type": "UserTiming",
				"label": "custom3",
				"parameter1": "",
				"parameter2": "mark_usertiming"
			}, {
				"name": "Missing Timer JavaScript Variable",
				"index": 4,
				"type": "Custom",
				"label": "custom4",
				"parameter1": "custom_timer_missing"
			}, {
				"name": "Missing Timer UserTiming",
				"index": 5,
				"type": "UserTiming",
				"label": "custom5",
				"parameter1": "",
				"parameter2": "missing_mark_usertiming"
			}
		]
	}
});
</script>
<%= footer %>
