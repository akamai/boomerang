<%= header %>
<%= boomerangSnippet %>
<script src="15-initiator-types.js" type="text/javascript"></script>
<script src="../../vendor/resourcetiming-compression/src/resourcetiming-decompression.js" type="text/javascript"></script>

<img src="support/spacer.gif?id=img" />
<video poster="support/spacer.gif?id=video-poster"></video>
<audio src="/blackhole?id=audio-src"></audio>
<input type="image" src="support/spacer.gif?id=input"></input>
<object type="image/png" data="support/spacer.gif?id=object"></object>
<video autoplay="true">
    <source src="/blackhole?id=video-source" type="video/mp4">
    <track kind="subtitles" src="/blackhole?id=video-track" srclang="en" default>
</video>
<embed src="/blackhole?id=embed" type="text/css"></embed>

<script>
BOOMR_test.init({
  testAfterOnBeacon: true,
  ResourceTiming: {
    enabled: true
  },
  onBoomerangLoaded: function() {
    var epoch = performance.timeOrigin || performance.timing.navigationStart;

    epoch += 100; // simulated IFRAME delay

    BOOMR.plugins.ResourceTiming.addResources([{
      name: "http://example.com/early-hints?id=early-hints",
      startTime: 200,
      initiatorType: "early-hints",
      _data: {
        "ns5": "namespaced_payload_5"
      }
    }], epoch);

    BOOMR.plugins.ResourceTiming.addResources([{
      name: "http://example.com/ping?id=ping",
      startTime: 200,
      initiatorType: "ping",
      _data: {
        "ns5": "namespaced_payload_5"
      }
    }], epoch);

    BOOMR.plugins.ResourceTiming.addResources([{
      name: "http://example.com/font?id=font",
      startTime: 200,
      initiatorType: "font",
      _data: {
        "ns5": "namespaced_payload_5"
      }
    }], epoch);
  }
});
</script>
<%= footer %>
